{"version":3,"sources":["../../src/controller/restaurant.js"],"names":["config","db","api","post","req","res","newRest","name","body","save","err","send","json","message","get","find","restaurants","findById","params","id","restaurant"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEc,gBAAkB;AAAA,MAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,MAARC,EAAQ,QAARA,EAAQ;;AAC9B,MAAIC,MAAM,sBAAV;;AAGA;AACAA,MAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIC,UAAU,0BAAd;AACAA,YAAQC,IAAR,GAAeH,IAAII,IAAJ,CAASD,IAAxB;;AAEAD,YAAQG,IAAR,CAAa,eAAO;;AAElB,UAAGC,GAAH,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAAS,EAACC,uCAAD,EAAT;AACD,KAND;AAQD,GAZD;;AAcAX,MAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACV,GAAD,EAAMC,GAAN,EAAc;AACzB,yBAAWU,IAAX,CAAgB,EAAhB,EAAoB,UAACL,GAAD,EAAMM,WAAN,EAAsB;AACxC,UAAIN,GAAJ,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASI,WAAT;AACD,KALD;AAMD,GAPD;;AASF;;AAEAd,MAAIY,GAAJ,CAAQ,MAAR,EAAgB,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC5B,yBAAWY,QAAX,CAAoBb,IAAIc,MAAJ,CAAWC,EAA/B,EAAmC,UAACT,GAAD,EAAMU,UAAN,EAAqB;AACtD,UAAIV,GAAJ,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASQ,UAAT;AACD,KALD;AAMD,GAPD;;AAWE,SAAOlB,GAAP;AACD,C","file":"restaurant.js","sourcesContent":["import mongoose from 'mongoose';\nimport {Router} from 'express';\nimport Restaurant from '../model/restaurant';\n\nexport default({config, db}) => {\n  let api = Router();\n\n\n  //v1/restaurant/add\n  api.post('/add', (req, res) => {\n    let newRest = new Restaurant();\n    newRest.name = req.body.name;\n\n    newRest.save(err => {\n\n      if(err) {\n        res.send(err);\n      }\n      res.json({message: `Restaurant saved succesfully`});\n    });\n\n  });\n\n  api.get('/', (req, res) => {\n    Restaurant.find({}, (err, restaurants) => {\n      if (err){\n        res.send(err);\n      }\n      res.json(restaurants);\n    });\n  });\n\n//get by id\n\napi.get('/:id', (req, res) => {\n  Restaurant.findById(req.params.id, (err, restaurant) => {\n    if (err){\n      res.send(err);\n    }\n    res.json(restaurant);\n  });\n});\n\n\n\n  return api;\n}\n"]}